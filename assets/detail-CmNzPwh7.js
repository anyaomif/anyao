import{_ as u,r as n,a as f,q as v,c as _,d as m,t as p,f as g,s as w,o as b,b as h,h as B,v as y,e as d,g as I,u as x}from"./index-Cu5AWCpx.js";import{B as L}from"./blog-CSTOo0L9.js";const P={key:0,class:"loading flex-center fwb"},V={__name:"ayLoading",props:{visible:{type:Boolean,default:!1},interval:{type:Number,default:500}},setup(i){const l=i,o=n("Please wait");let s=0,t=null;const r=()=>{t=setInterval(()=>{s=(s+1)%6,o.value="Please wait"+".".repeat(s)},l.interval)},a=()=>{clearInterval(t)};return f(()=>{a()}),v(()=>l.visible,e=>{e?r():a()},{immediate:!0}),(e,c)=>i.visible?(_(),m("div",P,p(o.value),1)):g("",!0)}},N=u(V,[["__scopeId","data-v-04401344"]]),k={class:"ma w-full pdb-10"},D={class:"views"},M="preview-only",S={__name:"detail",setup(i){const l=w(),o=n(""),s=n(0),t=n(!1),r=async a=>{const e=await L.getBlogById(a);if(console.log(e),!e.data){x.navTo({name:"BlogDefault"});return}({content:o.value,pv:s.value}=e.data),t.value=!1};return v(()=>l.params.id,(a,e)=>{t.value=!0,r(a)},{deep:!0,immediate:!0}),b(()=>{}),(a,e)=>{const c=h("MdPreview");return _(),m("div",k,[B(d(c,{editorId:M,modelValue:o.value},null,8,["modelValue"]),[[y,!t.value]]),d(N,{visible:t.value,interval:300},null,8,["visible"]),I("div",D,"本文总阅读量"+p(s.value)+"次",1)])}}},q=u(S,[["__scopeId","data-v-d62b25a3"]]);export{q as default};
